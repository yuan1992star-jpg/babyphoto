# 成长时光机 📸

> 记录宝宝成长的每一个珍贵瞬间

## ⚡ 重要说明

**本项目纯离线可运行**：无需联网、无需数据库、无需云服务。所有资源（页面、字体、脚本）均本地加载，照片和配置都保存在本机，完全在您自己的电脑上运行，数据隐私有保障。

**不懂代码也可以使用**：可将项目打包成 **Windows 单文件 exe**，双击即可运行，无需安装 Go 或任何开发环境。详见下方「打包成 exe」章节。

---

## 项目初衷

这是一个专为记录宝宝成长而设计的照片管理应用。作为父母，我们希望能够：

- 📅 **按时间线记录**：自动根据拍摄日期整理照片，形成完整的成长时间线
- 👶 **显示成长年龄**：每张照片都会显示宝宝当时的年龄（天数、月数、岁数）
- 💝 **珍藏美好回忆**：用最简洁优雅的方式，保存和回顾宝宝成长的每一个瞬间
- 🎨 **简洁美观**：温馨的粉色主题，流畅的交互体验，让浏览照片成为一种享受

## 功能特性

### ✨ 核心功能

- **智能日期整理**：自动读取照片 EXIF 信息，按拍摄日期自动分类存储
- **成长年龄显示**：设置宝宝出生日期后，每张照片都会显示对应的年龄信息
- **照片去重**：基于 MD5 哈希值自动检测重复照片，避免重复存储
- **视频支持**：支持照片和视频混合管理
- **懒加载优化**：日期分组较多时，采用懒加载机制，提升页面性能
- **折叠展开**：同一天照片较多时，支持折叠/展开查看

### 🎯 用户体验

- **拖拽上传**：支持批量拖拽上传照片和视频
- **时间航线导航**：左侧时间线快速跳转到指定日期
- **响应式设计**：完美适配桌面和移动设备
- **照片预览**：点击照片可全屏查看，支持视频播放

## 技术栈

### 后端
- **Go 1.23+**：高性能后端服务
- **Gin Framework**：轻量级 Web 框架
- **EXIF 解析**：自动读取照片拍摄日期
- **MD5 去重**：文件哈希值检测重复

### 前端
- **Vue 3**：渐进式前端框架
- **Tailwind CSS**：实用优先的 CSS 框架
- **Lucide Icons**：精美的图标库

## 快速开始

### 环境要求

- Go 1.23 或更高版本
- 现代浏览器（Chrome、Firefox、Safari、Edge）

### 安装步骤

1. **克隆项目**
   ```bash
   git clone <repository-url>
   cd photo
   ```

2. **安装依赖**
   ```bash
   go mod download
   ```

3. **运行项目**
   ```bash
   go run main.go
   ```

4. **访问应用**
   
   服务启动后会自动打开浏览器，访问 `http://localhost:8080`

### 首次使用

1. **设置出生日期**：首次打开应用时，会提示输入宝宝的出生日期
2. **上传照片**：点击"导入新回忆"或直接拖拽照片到页面
3. **浏览时光**：在时间航线上点击日期，快速跳转到对应照片

---

## 不懂代码？打包成 exe（Windows 单文件运行）

若您不熟悉命令行或编程，可以让懂一点电脑的朋友帮您打包成 **一个 exe 文件**，之后在 Windows 上双击即可运行，无需安装 Go 或任何环境。

### 打包步骤（需在已安装 Go 的电脑上执行一次）

在项目目录下打开命令行，执行：

```bash
# Windows 64 位 exe（最常用）
set CGO_ENABLED=0
go build -o 成长时光机.exe -ldflags "-s -w" main.go
```

生成的 `成长时光机.exe` 与 **整个项目文件夹**（尤其是其中的 `public` 文件夹）放在同一目录，然后：

- **把整个文件夹**（包含 exe 和 public）拷贝到任意电脑
- 双击 `成长时光机.exe` 启动
- 浏览器会自动打开；若没有，手动打开浏览器访问：`http://localhost:8080`

### 使用打包好的 exe 时请注意

- exe 必须和 **public** 文件夹在同一目录，且 **public** 内要有 **index.html** 和 **assets** 等文件（即保持当前项目里 public 的完整结构）。
- 照片会保存在 exe 同目录下的 `public/babyphoto/` 里，配置在 `baby_config.json`，请勿删除这些文件夹和文件。
- 本应用为**纯离线**：运行时不访问外网，所有数据都在本机。

这样，不懂代码的用户也可以像使用普通软件一样，通过「双击 exe」来使用成长时光机。

---

## 项目结构

```
photo/
├── main.go              # 后端主程序
├── go.mod               # Go 模块依赖
├── baby_config.json     # 宝宝出生日期配置
├── public/              # 静态资源目录
│   ├── index.html       # 前端页面
│   ├── babyphoto/       # 照片存储目录
│   │   └── YYYY/MM/DD/  # 按日期分类存储
│   └── assets/          # 静态资源（JS、CSS、字体）
└── README.md            # 项目说明文档
```

## 使用说明

### 上传照片

- **方式一**：点击"导入新回忆"按钮，选择文件上传
- **方式二**：直接拖拽照片或视频到页面任意位置

### 照片管理

- 照片会根据拍摄日期自动分类存储
- 重复照片会自动移动到 `_duplicates` 目录
- 支持照片和视频混合浏览

### 查看照片

- 点击照片可全屏预览
- 左侧时间线可快速导航
- 同一天照片超过 10 张时，可点击"查看剩余"展开全部

## 配置说明

### 出生日期配置

出生日期保存在 `baby_config.json` 文件中：

```json
{
  "birthDate": "2024-01-15"
}
```

### 照片存储路径

照片默认存储在 `./public/babyphoto/` 目录下，按 `YYYY/MM/DD` 格式组织。

## 开发计划

- [ ] 照片编辑功能（裁剪、滤镜）
- [ ] 照片搜索功能
- [ ] 导出照片功能
- [ ] 多宝宝支持
- [ ] 照片标签和分类
- [ ] 云端备份功能

## 贡献

欢迎提交 Issue 和 Pull Request！

## 许可证

本项目仅供个人使用，记录宝宝成长的美好时光。

---

**愿每一个成长的瞬间都被温柔以待** 💕
